fragment CommentRef on Comment {
  id

  state
  rejectionReason

  user {
    ...FullUser
  }

  revisions {
    text
    createdAt
  }

  createdAt
  modifiedAt
}

query CommentList($after: ID, $first: Int) {
  comments(first: $first, after: $after) {
    nodes {
      ...CommentRef
    }

    pageInfo {
      startCursor
      endCursor
      hasNextPage
      hasPreviousPage
    }

    totalCount
  }
}

mutation ApproveComment($id: ID!) {
  approveComment(id: $id) {
    state
  }
}

mutation RejectComment($id: ID!, $rejectionReason: CommentRejectionReason!) {
  rejectComment(id: $id, rejectionReason: $rejectionReason) {
    state
    rejectionReason
  }
}

mutation RequestChangesOnComment($id: ID!, $rejectionReason: CommentRejectionReason!) {
  requestChangesOnComment(id: $id, rejectionReason: $rejectionReason) {
    state
    rejectionReason
  }
}
