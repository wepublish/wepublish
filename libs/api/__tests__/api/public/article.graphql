fragment ArticleRef on Article {
  id
  publishedAt
  updatedAt
  tags {
    id
    tag
  }
  preTitle
  title
  lead
  image {
    ...ImageRef
  }
}

query ArticleList($filter: [String!], $cursor: String, $take: Int) {
  articles(take: $take, cursor: $cursor, filter: {tags: $filter}) {
    nodes {
      ...ArticleRef
    }

    pageInfo {
      startCursor
      endCursor
      hasNextPage
      hasPreviousPage
    }

    totalCount
  }
}

query Article($id: String!) {
  article(id: $id) {
    id
    updatedAt
    publishedAt
    slug
    url
    preTitle
    title
    lead
    tags {
      id
      tag
      type
    }
    properties {
      key
      value
    }
    image {
      ...ImageRef
    }
    authors {
      ...AuthorRef
    }
    breaking
    blocks {
      ...FullBlock
    }
  }
}

query PeerArticle($id: String!, $peerSlug: Slug, $peerID: String) {
  peerArticle(id: $id, peerSlug: $peerSlug, peerID: $peerID) {
    id
    updatedAt
    publishedAt
    slug
    url
    preTitle
    title
    lead
    tags {
      id
      tag
      type
    }
    properties {
      key
      value
    }
    image {
      ...ImageRef
    }
    authors {
      ...AuthorRef
    }
    breaking
    blocks {
      ...FullBlock
    }
  }
}
