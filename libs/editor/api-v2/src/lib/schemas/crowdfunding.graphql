query Crowdfundings {
  crowdfundings {
    ...FullCrowdfunding
  }
}

query Crowdfunding($id: ID!) {
  crowdfunding(id: $id) {
    ...FullCrowdfundingWithActiveGoal
  }
}

mutation CreateCrowdfunding($input: CreateCrowdfundingInput!) {
  createCrowdfunding(input: $input) {
    ...FullCrowdfunding
  }
}

mutation UpdateCrowdfunding($input: UpdateCrowdfundingInput!) {
  updateCrowdfunding(input: $input) {
    ...FullCrowdfunding
  }
}

mutation DeleteCrowdfunding($id: ID!) {
  deleteCrowdfunding(id: $id)
}

input CreateCrowdfundingInput {
  name: String!
  goals: [CreateCrowdfundingGoalInput]!
}

input CreateCrowdfundingGoalInput {
  title: String!
  description: String!
  amount: Int!
}

input UpdateCrowdfundingInput {
  id: ID!
  name: String!
  goals: [CreateCrowdfundingGoalInput!]
}

fragment FullCrowdfundingWithActiveGoal on CrowdfundingWithActiveGoal {
  id
  name
  goals {
    ...FullCrowdfundingGoal
  }
  activeCrowdfundingGoal {
    ...FullCrowdfundingGoalWithProgress
  }
  memberPlans {
    id
  }
}

fragment FullCrowdfunding on Crowdfunding {
  id
  name

  goals {
    ...FullCrowdfundingGoal
  }

  memberPlans {
    id
  }
}

fragment FullCrowdfundingGoal on CrowdfundingGoal {
  id
  title
  description
  amount
}

fragment FullCrowdfundingGoalWithProgress on CrowdfundingGoalWithProgress {
  id
  title
  description
  amount
  progress
}
