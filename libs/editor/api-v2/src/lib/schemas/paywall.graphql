fragment FullPaywall on Paywall {
  id
  createdAt
  modifiedAt
  name
  description
  circumventDescription
  upgradeDescription
  upgradeCircumventDescription
  active
  anyMemberPlan
  alternativeSubscribeUrl
  memberPlans {
    id
    name
  }
  bypasses {
    id
    token
  }
}

query PaywallList {
  paywalls {
    ...FullPaywall
  }
}

query Paywall($id: String!) {
  paywall(id: $id) {
    ...FullPaywall
  }
}

mutation CreatePaywall(
  $name: String
  $description: RichText
  $circumventDescription: RichText
  $active: Boolean!
  $anyMemberPlan: Boolean!
  $memberPlanIds: [String!]!
  $bypassTokens: [String!]!
  $alternativeSubscribeUrl: String
  $upgradeDescription: RichText
  $upgradeCircumventDescription: RichText
) {
  createPaywall(
    name: $name
    description: $description
    circumventDescription: $circumventDescription
    upgradeDescription: $upgradeDescription
    upgradeCircumventDescription: $upgradeCircumventDescription
    anyMemberPlan: $anyMemberPlan
    active: $active
    memberPlanIds: $memberPlanIds
    bypassTokens: $bypassTokens
    alternativeSubscribeUrl: $alternativeSubscribeUrl
  ) {
    ...FullPaywall
  }
}

mutation UpdatePaywall(
  $id: String!
  $name: String
  $description: RichText
  $circumventDescription: RichText
  $upgradeDescription: RichText
  $upgradeCircumventDescription: RichText
  $active: Boolean
  $anyMemberPlan: Boolean
  $memberPlanIds: [String!]
  $bypassTokens: [String!]
  $alternativeSubscribeUrl: String
) {
  updatePaywall(
    id: $id
    name: $name
    description: $description
    circumventDescription: $circumventDescription
    upgradeDescription: $upgradeDescription
    upgradeCircumventDescription: $upgradeCircumventDescription
    anyMemberPlan: $anyMemberPlan
    active: $active
    memberPlanIds: $memberPlanIds
    bypassTokens: $bypassTokens
    alternativeSubscribeUrl: $alternativeSubscribeUrl
  ) {
    ...FullPaywall
  }
}

mutation DeletePaywall($id: String!) {
  deletePaywall(id: $id) {
    ...FullPaywall
  }
}
